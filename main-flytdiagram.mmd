flowchart TD
    A["Start → main()"] --> B{Hovedmeny}
    
    B -->|1| C[Legg til bok]
    B -->|2| D[Legg til film]
    B -->|3| E[List tilgjengelige bøker]
    B -->|4| F[List tilgjengelige filmer]
    B -->|5| G[Lån gjenstand]
    B -->|6| H[Returner gjenstand]
    B -->|7| I[Finn / søk gjenstand]
    B -->|0| J[Avslutt programmet]

    %% Legg til bok
    C --> C1{Valg}
    C1 -->|1| C2["Søk via ISBN → isbnlib.meta()"]
    C1 -->|2| C3[Manuell inntasting]
    C2 & C3 --> C4[Opprett Book-objekt]
    C4 --> C5["library.add_item(book)"]
    C5 --> C6{Fortsette? y/n}
    C6 -->|y| C1
    C6 -->|n| B

    %% Legg til film
    D --> D1{Valg}
    D1 -->|1| D2["Søk via IMDB ID → imdbinfo.get_movie()"]
    D1 -->|2| D3[Manuell inntasting]
    D2 & D3 --> D4[Opprett Movie-objekt]
    D4 --> D5["library.add_item(movie)"]
    D5 --> D6{Fortsette? y/n}
    D6 -->|y| D1
    D6 -->|n| B

    %% List bøker / filmer (lik struktur)
    E --> E1[Paginering 5 stk pr side]
    F --> F1[Paginering 5 stk pr side]
    E1 & F1 --> E2{Valg}
    E2 -->|Tall| E3[Vis detaljer]
    E2 -->|>| E2Next[Neste side]
    E2 -->|<| E2Prev[Forrige side]
    E2Next & E2Prev --> E2
    E2 -->|#| B

    %% Lån gjenstand
    G --> G1{Type?}
    G1 -->|1 Film| G2[Vis tilgjengelige filmer]
    G1 -->|2 Bok| G3[Vis tilgjengelige bøker]
    G2 & G3 --> G4["Paginering + søk (?)"]
    G4 -->|Tall| G5["library.borrow_item()"]
    G4 -->|?| G6[Søk → vis resultater → velg]
    G5 & G6 --> B

    %% Returner
    H --> H1[Skriv inn ID]
    H1 --> H2{Finnes ID i library.items?}
    H2 -->|Ja| H3["library_item.return_item() → Sukess"]
    H2 -->|Nei| H4[Ugyldig ID → prøv igjen]
    H3 & H4 --> B

    %% Finn / søk
    I --> I1[Søkestreng]
    I1 --> I2["library.search_items()"]
    I2 --> I3[Vis treff eller Ingen treff]
    I3 --> B
    
    style A fill:#2c3e50, color:#fff
    style J fill:#c0392b, color:#fff